<core:View xmlns="sap.m" xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core" xmlns:smartFilterBar="sap.ui.comp.smartfilterbar" xmlns:smartTable="sap.ui.comp.smarttable" xmlns:html="http://www.w3.org/1999/xhtml" xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" controllerName="bam.controller.RuleReport" height="100%">
	<App id="ruleReport">
		<pages>
			<Page title="{i18n>title}" showNavButton="true" navButtonPress="onNavBack" enableScrolling="false" class="marginBoxContent">
				<headerContent>
					<Button id="btnHome" icon="sap-icon://home" tooltip="{i18n>home}" press="onHome"/>
				</headerContent>
				<!-- use this to make the table occupy the available screen height -->
				<VBox fitContainer="true">
					<smartFilterBar:SmartFilterBar id="smartFilterBar" entitySet="V_WEB_CU_PEOPLE_RULE_LOG" search="smartFilterSearch">
						<smartFilterBar:controlConfiguration>
								<smartFilterBar:ControlConfiguration key="GMID" index="1" visibleInAdvancedArea="true" mandatory="mandatory"
								label="MATERIAL ID">
								</smartFilterBar:ControlConfiguration>	
								<smartFilterBar:ControlConfiguration key="COUNTRY_CODE_ID" index="2" visibleInAdvancedArea="true" mandatory="mandatory"
								label="COUNTRY">
								</smartFilterBar:ControlConfiguration>								
								<smartFilterBar:ControlConfiguration key="RULE_TYPE" index="3" visibleInAdvancedArea="true">
								</smartFilterBar:ControlConfiguration>
								<smartFilterBar:ControlConfiguration 
									key="FROM_DATE"
									label="FROM DATE"
									visibleInAdvancedArea="true"
									filterType="single"
									controlType="date"
									index="4" >
										<smartFilterBar:customControl>
											<DatePicker
												id="DPF"
												value="{path:'RuleAuditVM>/DateTimeFrom', type:'sap.ui.model.type.Date', formatOptions: { style: 'medium', strictParsing: true}}"
												displayFormat="long"
												change="handleChange"
												class="sapUiSmallMarginBottom"/>
										</smartFilterBar:customControl>
									</smartFilterBar:ControlConfiguration>
								<smartFilterBar:ControlConfiguration 
									key="TO_DATE"
									label="TO DATE"
									visibleInAdvancedArea="true"
									filterType="single"
									controlType="date"
									index="5">
										<smartFilterBar:customControl>
											<DatePicker
												id="DPT"
												value="{path:'RuleAuditVM>/DateTimeTo', type:'sap.ui.model.type.Date', formatOptions: { style: 'medium', strictParsing: true}}"
												displayFormat="long"
												change="handleChange"
												class="sapUiSmallMarginBottom"/>
										</smartFilterBar:customControl>
									</smartFilterBar:ControlConfiguration>
								<smartFilterBar:ControlConfiguration key="CHANGED_BY" index="6" visibleInAdvancedArea="true">
								</smartFilterBar:ControlConfiguration>
								<smartFilterBar:ControlConfiguration key="ATT_CHANGE" label="CHANGE ATTRIBUTES" index="7" visibleInAdvancedArea="true">
									<smartFilterBar:customControl>
										<MultiComboBox id="cmbAttr" width="200px" items="{path: 'RuleAuditVM>/ChangeAttributes'}">
												<core:Item key="{RuleAuditVM>CHANGE_ATTRIBUTE_ID}" text="{RuleAuditVM>ATTRIBUTE_LABEL}"/>
										</MultiComboBox>
									</smartFilterBar:customControl>
								</smartFilterBar:ControlConfiguration>								
						</smartFilterBar:controlConfiguration>
					</smartFilterBar:SmartFilterBar>
					<smartTable:SmartTable smartFilterId="smartFilterBar" id="smartTblRuleReport" entitySet="V_WEB_CU_PEOPLE_RULE_LOG" tableType="Table" 
					showFullScreenButton="true" useTablePersonalisation="true" header="Rule Report" showRowCount="true" enableAutoBinding="false" 
					app:useSmartField="true" class="sapUiResponsiveContentPadding" ignoreFromPersonalisation="RULE_LOG_ID,RULE_SET_ID,COUNTRY_CODE_ID,GEO_LEVEL_VAL_ID,REQUESTED_BY" 
					useVariantManagement="false" beforeRebindTable="onBeforeRebindTable" initialise="tableInitialised" 
					initiallyVisibleFields="RULE_TYPE,GMID,GMID_DESC,SHIP_TO_COUNTRY,RULE_SET_DESCRIPTION,OPERATION,CHANGED_BY,CHANGED_ON,GEO_LEVEL_DESC,PRODUCT_CODE,PRODUCT_DESCRIPTION,RCU,PRIOR_RCU,SUB_RCU,PRIOR_SUB_RCU,MARKETING_MANAGER,PRIOR_MARKETING_MANAGER,MARKETING_DIRECTOR,PRIOR_MARKETING_DIRECTOR,DEMAND_MANAGER,PRIOR_DEMAND_MANAGER,GLOBAL_BUSINESS_LEADER,PRIOR_GLOBAL_BUSINESS_LEADER,SUPPLY_CHAIN_PLANNING_SPECIALIST,PRIOR_SUPPLY_CHAIN_PLANNING_SPECIALIST,MARKETING_SPECIALIST,PRIOR_MARKETING_SPECIALIST,GLOBAL_SUPPLY_CHAIN_MANAGER,PRIOR_GLOBAL_SUPPLY_CHAIN_MANAGER,REG_SUPPLY_CHAIN_MANAGER,PRIOR_REG_SUPPLY_CHAIN_MANAGER,MASTER_PLANNER,PRIOR_MASTER_PLANNER">
						<!-- layout data used to make the table growing but the filter bar fixed -->
						<smartTable:layoutData>
								<FlexItemData growFactor="1" baseSize="0%"/>
						</smartTable:layoutData>
					</smartTable:SmartTable>
				<items/>
				</VBox>
			</Page>
		</pages>
	</App>
</core:View>