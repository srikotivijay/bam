<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns:table="sap.ui.table" xmlns:core="sap.ui.core" xmlns="sap.m" xmlns:u="sap.ui.unified" xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" controllerName="bam.controller.GMIDSubmission" displayBlock="true">
	<App id="gmidSubmission">
		<pages><Page title="{i18n>title}" class="sapUiResponsiveContentPadding">
				<headerContent>
					<Button id="btnHome" icon="sap-icon://home" tooltip="{i18n>home}" press="onHome"/>
				</headerContent>
				<content>
					<HBox>
						<Label class="boldFont" text="* To upload GMID/Country combination from a file, download the template and enter the data in Excel, save as a CSV file then browse and upload."></Label>
					</HBox>
					<HBox alignItems="Center">
						<Text id="lblSubmitGMIDFor" text="{i18n>submitGMIDFor}" wrapping="false"/>
						<RadioButtonGroup id="rbgGMIDType" width="100%" columns="4" select="fnGridShow" selectedIndex="-1">
					    	<buttons>
					        	<RadioButton id="rBtnCropProtection" text="{i18n>cropProtection}" groupName="rbgGMIDType"/>
					        	<RadioButton id="rBtnCropProtectionDuPont" text="{i18n>cropProtectionDuPont}"/>
					        	<RadioButton id="rBtnSeeds" text="{i18n>seeds}" groupName="rbgGMIDType"/>
					        </buttons>
						</RadioButtonGroup>
						<Label class="sapUiLargeMarginEnd" text=""></Label>
						<HBox visible="true" id="excelHBox">
							<u:FileUploader id="excelFileUploader" width="300px" sameFilenameAllowed="false" buttonText="" fileType="CSV" placeholder="Choose a CSV file" style="Emphasized" class="sapUiSmallMarginEnd">
							</u:FileUploader>
							<Button text="{i18n>importFromExcel}" id="btnImportFromExcel" press="onImportFromExcel" class="sapUiSmallMarginEnd"/>

							<Button text="{i18n>downloadTemplate}" id="btnDownloadTemplate" press="onDownloadTemplate"/>
						</HBox>
					</HBox>
					<VBox>
						<CheckBox id="chkNoPlant" text="{i18n>checkBoxNonApoCropProtection}" select="onCheck" visible="false"></CheckBox>
					</VBox>
					<UploadCollection id="ucDownloadTemplate" visible="false">
					     <items>
					           <UploadCollectionItem fileName="GMIDSubmissionTemplate.xlsx" id="uciDownloadTemplate" enableEdit="false" visibleDelete="false" enableDelete="false" visibleEdit="false" selected="true" url="templates/GMIDSubmissionTemplate.xlsx" mimeType="application/msexcel"/>
					     </items>
					 </UploadCollection>
						<table:Table id="tblGMIDRequest" rows="{/GMIDShipToCountryVM}" visible="false" width="auto" visibleRowCount="10" selectionMode="None" enableColumnReordering="false">
							 <table:columns>
								 <table:Column id="clmHdrAction" width="110px" resizable="false">
							                <Label text="{i18n>action}" id="lblAction"/>
							            <table:template>
							            	<HBox alignContent="Start" direction="Inherit" alignItems="Baseline">
					            	 		<Button id="btnRemoveRow" icon="sap-icon://delete" visible="{path: 'createNew', formatter: '.disableControl'}" press="onRemoveRow" class="sapUiTinyMarginEnd"/>
					            	 		<core:Icon id="btnAddRow" src="sap-icon://add" visible="{path: 'createNew', formatter: '.enableControl'}" press="onAddRow"/>
					            			<Button visible="{path: 'isError'}" icon="sap-icon://error" press="showErrorMessage" app:text="{errorSummary}" app:GMID ="{GMID}" app:CountryCode ="{COUNTRY_CODE_ID}" tooltip="{i18n>errorIcon}" type="Reject"/>				            	
					            	</HBox>
							            </table:template>
						        </table:Column>
					        	<table:Column id="clmHdrGMID" width="120px" resizable="false">
						                <Label text="{i18n>gmid}" id="lblGMID"/>
						            <table:template>
							            	<Input id="inputGMID" value="{GMID}" visible="{path: 'createNew', formatter: '.disableControl'}" width="100%" maxLength="10" liveChange="numValidationCheck" valueState="{GMIDErrorState}"/>
							            </table:template>
					        	</table:Column>
					        	<table:Column id="clmHdrCountry" width="145px" resizable="false">
						                <Label text="{i18n>country}" id="lblCountry"/>
						            <table:template>
							            	<Select xmlns:sap.ui.core="sap.ui.core" id="ddlCountry" visible="{path: 'createNew', formatter: '.disableControl'}" items="{path: '/GMIDShipToCountryVM/Country', templateShareable : true}" change="onChange" valueState="{countryErrorState}" selectedKey="{COUNTRY_CODE_ID}">
	                            		<sap.ui.core:ListItem key="{ID}" text="{LABEL}"/>
									</Select>
							            </table:template>
					        	</table:Column>
					        <table:Column id="clmHdrStoredCurrency" width="140px" resizable="false">
						              <Label text="{i18n>storedCurrency}" id="lblStoredCurrency"/>
						          <table:template>
							            	<Select xmlns:sap.ui.core="sap.ui.core" id="ddlStoredCurrency" visible="{path: 'createNew', formatter: '.disableControl'}" items="{path: '/GMIDShipToCountryVM/StoredCurrency', templateShareable : true}" change="onChange" valueState="{currencyErrorState}" selectedKey="{CURRENCY_CODE_ID}">
	                            		<sap.ui.core:ListItem key="{ID}" text="{LABEL}"/>
									</Select>
							            </table:template>
					        </table:Column>
					        <table:Column id="clmHdrIBPRelevancy" width="145px" resizable="false">
						            <Label text="{i18n>ibpRelevancy}" id="lblIBPRelevancy"/>
						          <table:template>
							            	<Select xmlns:sap.ui.core="sap.ui.core" id="ddlIBPRelevancyFlag" visible="{path: 'createNew', formatter: '.disableControl'}" items="{path: '/GMIDShipToCountryVM/IBPRelevancyFlag', templateShareable : true}" change="onChange" valueState="{IBPRelevancyErrorState}" selectedKey="{IBP_RELEVANCY_CODE_ID}">
	                            		<sap.ui.core:ListItem key="{ID}" text="{LABEL}"/>
									</Select>
							            </table:template>
					        </table:Column>
					        <table:Column id="clmHdrNettingDefault" width="140px" resizable="false">
						           <Label text="{i18n>nettingDefault}" id="lblNettingDefault"/>
						         <table:template>
							            		<Select xmlns:sap.ui.core="sap.ui.core" id="ddlNettingDefaultFlag" visible="{path: 'createNew', formatter: '.disableControl'}" items="{path: '/GMIDShipToCountryVM/NettingDefaultFlag', templateShareable : true}" change="onChange" valueState="{nettingDefaultErrorState}" selectedKey="{NETTING_DEFAULT_CODE_ID}">
	                            		<sap.ui.core:ListItem key="{ID}" text="{LABEL}"/>
									</Select>
							            </table:template>
					        </table:Column>
					        <table:Column id="clmHdrQuadrant" width="140px" resizable="false">
						        		<Label text="{i18n>quadrant}" id="lblQuadrant"/>
						        	<table:template>
							            		<Select xmlns:sap.ui.core="sap.ui.core" id="ddlQuadrant" visible="{path: 'createNew', formatter: '.disableControl'}" items="{path: '/GMIDShipToCountryVM/Quadrant', templateShareable : true}" change="onChange" valueState="{quadrantErrorState}" selectedKey="{QUADRANT_CODE_ID}">
	                            		<sap.ui.core:ListItem key="{ID}" text="{LABEL}"/>
									</Select>
						            </table:template>
				        	</table:Column>
				        	<table:Column id="clmHdrChannel" width="135px" resizable="false">
						         <Label text="{i18n>channel}" id="lblChannel"/>
						        <table:template>
							            	<Select xmlns:sap.ui.core="sap.ui.core" id="ddlChannel" visible="{path: 'createNew', formatter: '.disableControl'}" items="{path: '/GMIDShipToCountryVM/Channel', templateShareable : true}" change="onChange" valueState="{channelErrorState}" selectedKey="{CHANNEL_CODE_ID}">
	                            		<sap.ui.core:ListItem key="{ID}" text="{LABEL}"/>
									</Select>
						            </table:template>
						        
					        </table:Column>
					        <table:Column id="clmHdrMarketDefault" width="100%" resizable="false">
						          <Label text="{i18n>marketDefault}" id="lblMarketDefault"/>
						         <table:template>
							            	<Select xmlns:sap.ui.core="sap.ui.core" id="ddlMarketDefaultFlag" visible="{path: 'createNew', formatter: '.disableControl'}" items="{path: '/GMIDShipToCountryVM/MarketDefaultFlag', templateShareable : true}" change="onChange" valueState="{marketDefaultErrorState}" selectedKey="{MARKET_DEFAULT_CODE_ID}">
	                            		<sap.ui.core:ListItem key="{ID}" text="{LABEL}"/>
									</Select>	
						            </table:template>
					        </table:Column>
					    	</table:columns>
					 </table:Table>
				 <Toolbar width="100%" id="tbrSubmit">
				     <content>
				         <ToolbarSpacer id="tbrSpSubmit"/>
							 <Button text="{i18n>submit}" width="100px" id="btnSubmit" press="onSubmit" visible="false"/>
				             <Button text="{i18n>continueToPlant}" width="200px" id="btnContinueToPlantSelection" press="onSubmit" visible="false"/>
				     </content>
				 </Toolbar>
				</content>
			</Page>
		</pages>
	</App>
</mvc:View>